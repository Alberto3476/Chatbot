import Navigation from '../../../components/widgets/Navigation'

# endFlow

Esta función se utiliza para finalizar un flujo con dos o más addAnswer. Un ejemplo de uso sería registrar 3 datos de un usuario en 3 preguntas distintas y que el usuario pueda finalizar el flujo de la conversación. Como podrás comprobar en el ejemplo siguiente, se puede vincular flowDynamic y todas sus funciones; como por ejemplo botones.

```js
const flowFormulario = addKeyword(['Hola','⬅️ Volver al Inicio'])
    .addAnswer(
        ['Hola!','Para enviar el formulario necesito unos datos...' ,'Escriba su *Nombre*'],
        { capture: true, buttons: [{ body: '❌ Cancelar solicitud' }] },
        async (ctx, { flowDynamic, endFlow, state }) => {
            if (ctx.body == '❌ Cancelar solicitud')
             return endFlow({body: '❌ Su solicitud ha sido cancelada ❌',    // Aquí terminamos el flow si la condicion se cumple
                 buttons:[{body:'⬅️ Volver al Inicio' }]                      // Y además, añadimos un botón por si necesitas derivarlo a otro flow
            })

            state.update({ nombre: ctx.body });
            return flowDynamic(`Encantado *${ctx.body}*, continuamos...`)
        }
    )
    .addAnswer(
        ['También necesito tus dos apellidos'],
        { capture: true, buttons: [{ body: '❌ Cancelar solicitud' }] },
        async (ctx, { flowDynamic, endFlow, state }) => {
            if (ctx.body == '❌ Cancelar solicitud') 
                return endFlow({body: '❌ Su solicitud ha sido cancelada ❌',
                    buttons:[{body:'⬅️ Volver al Inicio' }]
        })
        state.update({ apellidos: ctx.body });
        return flowDynamic(`Perfecto *${ctx.body}*, por último...`)
        }
    )
    .addAnswer(
        ['Déjeme su número de teléfono y le llamaré lo antes posible.'],
        { capture: true, buttons: [{ body: '❌ Cancelar solicitud' }] },
        async (ctx, { flowDynamic, endFlow, state }) => {
            if (ctx.body == '❌ Cancelar solicitud') 
                return endFlow({body: '❌ Su solicitud ha sido cancelada ❌',
                      buttons:[{body:'⬅️ Volver al Inicio' }]
                })

                state.update({ telefono: ctx.body });
                return flowDynamic(`Estupendo *${state.nombre}*! te dejo el resumen de tu formulario
                \n- Nombre y apellidos: *${state.nombre} ${state.apellidos}*
                \n- Telefono: *${state.telefono}*`)
        }
    )
```

---

<Navigation
    pages={[
        { name: 'Instalación', link: '/docs/install' },
        { name: 'Conceptos', link: '/docs/essential' },
    ]}
/>
